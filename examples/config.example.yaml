listen:
  socks5: "127.0.0.1:1080"

fwmark: 0

tun:
  enable: false
  device: "tun0"
  mtu: 1500
  udp_max_flows: 4096
  udp_max_dst_per_port: 512
  udp_idle_timeout: 60s
  udp_flow_idle_timeout: 30s
  udp_gc_interval: 10s

selection:
  sticky_ttl: "60s"
  cooldown: "20s"
  min_switch: "20ms"
  warm_standby_n: 2
  warm_standby_interval: "2s"

healthcheck:
  interval: "5s"
  min_interval: "1s"
  max_interval: "30s"
  jitter: "200ms"
  backoff_factor: 1.6
  rtt_scale: 0.25
  timeout: "3s"
  fail_threshold: 2
  success_threshold: 1

probe:
  enable_tcp: true
  enable_udp: true
  timeout: "2s"
  tcp_target: "example.com:80"
  udp_target: "1.1.1.1:53"
  dns_name: "example.com"
  dns_type: "AAAA"

upstreams:
  - name: "s1"
    weight: 1.0
    tcp_wss: "wss://domain.su/tcp?h2=only"
    udp_wss: "wss://domain.su/udp?h2=only"
    cipher: "chacha20-ietf-poly1305"
    secret: "secret"

  - name: "s2"
    weight: 0.5
    tcp_wss: "wss://domain.su/tcp?h3=1"
    udp_wss: "wss://domain.su/udp?h3=1"
    cipher: "chacha20-ietf-poly1305"
    secret: "secret"
